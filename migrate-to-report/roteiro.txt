Para migrar os dados do firebase realtime database para um csv da view utilizada no Google Lookups faça o seguinte:
1-Acesse a base do firebase e faça o download dos dados num arquivo json (renomeie para "data.json");
2-Ajuste o arquivo .json para que seu objeto raiz contenha apenas os dados/conteudo dentro do usuário desejado (ex: "yx3jmX60jyg7HPUgj7WeCV0nEdO2");
3-Coloque o arquivo na pasta "migrate-to-report" deste projeto e execute o arquivo json-to-xlsx.js (via node);
4-Uma vez gerado o "output.xlsx", execute o arquivo xlsx-to-csvs.js (via node);
5-Importe os arquivos CSVs numa base relacional qualquer (sugestão: crie um container docker postgres localhost e num dbeaver use "import data" no schema);
6-Abra uma planilha SQL conectada na base contendo as tabelas importadas e execute o arquivo "query-to-unified-report.sql";
7-Exporte os dados da query para um csv e nomeie de "vw-dados-acomp.csv";
8-Abra a planilha "VwAcompDiario" do Google Sheets, va em importar dados, selecione o arquivo "vw-dados-acomp.csv" e modifique a opçao "criar planilha" para "substituir planilha";
9-Atualize a fonte de dados do Google Looker Studio.